<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0089)https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/ -->
<html lang="en-US" class=" js no-touch csstransforms3d csstransitions"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <link rel="profile" href="http://gmpg.org/xfn/11">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <link rel="stylesheet" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/style.css">
        <title>Lab: Serial output from P5.js – ITP Physical Computing</title>
<link rel="dns-prefetch" href="https://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="ITP Physical Computing » Feed" href="https://itp.nyu.edu/physcomp/feed/">
		<script async="" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/analytics.js.download"></script><script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/itp.nyu.edu\/physcomp\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.2"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/wp-emoji-release.min.js.download" type="text/javascript" defer=""></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="inkthemes_reset_stylesheet-css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/reset.css" type="text/css" media="all">
<link rel="stylesheet" id="inkthemes_responsive_stylesheet-css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/960_24_col_responsive.css" type="text/css" media="all">
<link rel="stylesheet" id="inkthemes_stylesheet-css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/style(1).css" type="text/css" media="all">
<link rel="stylesheet" id="inkthemes_superfish-css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/superfish.css" type="text/css" media="all">
<link rel="stylesheet" id="inkthemes-media-css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/media.css" type="text/css" media="all">
<link rel="stylesheet" id="inkthemes-animate-css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/animate.css" type="text/css" media="all">
<link rel="stylesheet" id="mg-style-css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/mg_popup.css" type="text/css" media="all">
<link rel="stylesheet" id="searchandfilter-css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/style(2).css" type="text/css" media="all">
<link rel="stylesheet" id="toc-screen-css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/screen.min.css" type="text/css" media="all">
<link rel="stylesheet" id="easy_table_style-css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/style(3).css" type="text/css" media="all">
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/jquery.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/jquery-migrate.min.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/img-mouseover.js.download"></script>
<script type="text/javascript">
/* <![CDATA[ */
var mg = {"ajaxurl":"https:\/\/itp.nyu.edu\/physcomp\/wp-admin\/admin-ajax.php","imgurl":"https:\/\/itp.nyu.edu\/physcomp\/wp-content\/plugins\/formget-contact-form\/image\/mailget.png","mg_nonce":"9f2a76a47f"};
/* ]]> */
</script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/mg_front.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/superfish.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/jquery.flexslider.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/jquery.tipsy.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/jquery.meanmenu.2.0.min.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/jquery.meanmenu.options.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/modernizr.custom.79639.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/custom.js.download"></script>
<link rel="https://api.w.org/" href="https://itp.nyu.edu/physcomp/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://itp.nyu.edu/physcomp/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://itp.nyu.edu/physcomp/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 4.7.2">
<link rel="canonical" href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/">
<link rel="shortlink" href="https://itp.nyu.edu/physcomp/?p=3807">
<link rel="alternate" type="application/json+oembed" href="https://itp.nyu.edu/physcomp/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fitp.nyu.edu%2Fphyscomp%2Flabs%2Flabs-serial-communication%2Flab-serial-output-from-p5-js%2F">
<link rel="alternate" type="text/xml+oembed" href="https://itp.nyu.edu/physcomp/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fitp.nyu.edu%2Fphyscomp%2Flabs%2Flabs-serial-communication%2Flab-serial-output-from-p5-js%2F&amp;format=xml">
    <link rel="stylesheet" type="text/css" media="all" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/green.css">
    <style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("https://itp.nyu.edu/physcomp/wp-content/themes/colorway/images/body-bg.png"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: scroll; }
</style>
<link rel="stylesheet" type="text/css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/shCore.css"><link rel="stylesheet" type="text/css" href="./Lab_ Serial output from P5.js – ITP Physical Computing_files/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style>
    </head>
    <body class="page-template-default page page-id-3807 page-child parent-pageid-1979 custom-background" background="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/">
                                             <!--Start Container Div-->
        <div class="container_24 container">
            <!--Start Header Grid-->
            <div class="grid_24 header">
                <div class="logo">
                   <h1 class="title">ITP Physical Computing</h1>
                </div>
                <!--Start MenuBar-->
                <div class="menu-bar">  
                    <div id="menu" class="menu-fall-2015-container"><ul id="menu-fall-2015" class="sf-menu sf-js-enabled sf-shadow"><li id="menu-item-3218" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-3218"><a href="https://itp.nyu.edu/physcomp/">Home</a></li>
<li id="menu-item-3576" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3576"><a href="https://itp.nyu.edu/physcomp/itp/syllabus/">Syllabus</a></li>
<li id="menu-item-3217" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3217"><a href="https://itp.nyu.edu/physcomp/lessons/" class="sf-with-ul">Topics<span class="sf-sub-indicator"> ›</span></a>
<ul class="sub-menu" style="display: none; visibility: hidden;">
	<li id="menu-item-3219" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-3219"><a href="https://itp.nyu.edu/physcomp/">What Is Physical Computing?</a></li>
	<li id="menu-item-3220" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3220"><a href="https://itp.nyu.edu/physcomp/lessons/electronics/" class="sf-with-ul">Electronics<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-3221" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3221"><a href="https://itp.nyu.edu/physcomp/lessons/electronics/electricity-the-basics/">Electricity: the Basics</a></li>
		<li id="menu-item-3222" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3222"><a href="https://itp.nyu.edu/physcomp/lessons/electronics/transistors-relays-and-controlling-high-current-loads/">Transistors, Relays, and Controlling High-Current Loads</a></li>
		<li id="menu-item-3283" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3283"><a href="https://itp.nyu.edu/physcomp/lessons/electronics/understanding-dc-power-supplies/">Understanding DC Power Supplies</a></li>
		<li id="menu-item-4105" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4105"><a href="https://itp.nyu.edu/physcomp/lessons/electronics/level-shifting/">Level Shifting</a></li>
	</ul>
</li>
	<li id="menu-item-3223" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3223"><a href="https://itp.nyu.edu/physcomp/lessons/microcontrollers/" class="sf-with-ul">Microcontrollers<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-3224" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3224"><a href="https://itp.nyu.edu/physcomp/lessons/microcontrollers/microcontrollers-the-basics/">Microcontrollers: The Basics</a></li>
		<li id="menu-item-3225" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3225"><a href="https://itp.nyu.edu/physcomp/lessons/microcontrollers/digital-input-output/">Digital Input &amp; Output</a></li>
		<li id="menu-item-3226" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3226"><a href="https://itp.nyu.edu/physcomp/lessons/microcontrollers/analog-input/">Analog Input</a></li>
		<li id="menu-item-3284" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3284"><a href="https://itp.nyu.edu/physcomp/lessons/microcontrollers/analog-output/">Analog Output</a></li>
	</ul>
</li>
	<li id="menu-item-3227" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3227"><a href="https://itp.nyu.edu/physcomp/lessons/programming/" class="sf-with-ul">Programming<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-3229" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3229"><a href="https://itp.nyu.edu/physcomp/lessons/programming/variables/">Variables</a></li>
		<li id="menu-item-3228" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3228"><a href="https://itp.nyu.edu/physcomp/lessons/programming/programming-terms-and-programming-environments/">Programming Terms and Programming Environments</a></li>
	</ul>
</li>
	<li id="menu-item-3285" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3285"><a href="https://itp.nyu.edu/physcomp/lessons/sensors-the-basics/">Sensors: the Basics</a></li>
	<li id="menu-item-3286" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3286"><a href="https://itp.nyu.edu/physcomp/lessons/serial-communication/" class="sf-with-ul">Serial Communication<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-3244" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3244"><a href="https://itp.nyu.edu/physcomp/lessons/serial-communication/serial-communication-the-basics/">Asynchronous Serial Communication: The Basics</a></li>
		<li id="menu-item-3245" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3245"><a href="https://itp.nyu.edu/physcomp/lessons/serial-communication/interpreting-serial-data/">Interpreting Serial Data</a></li>
		<li id="menu-item-3287" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3287"><a href="https://itp.nyu.edu/physcomp/lessons/serial-communication/synchronous-serial-communication-the-basics/">Synchronous Serial Communication: The Basics</a></li>
	</ul>
</li>
	<li id="menu-item-3288" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3288"><a href="https://itp.nyu.edu/physcomp/lessons/dc-motors/" class="sf-with-ul">DC Motors<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-3289" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3289"><a href="https://itp.nyu.edu/physcomp/lessons/dc-motors/dc-motors-the-basics/">DC Motors: The Basics</a></li>
		<li id="menu-item-3290" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3290"><a href="https://itp.nyu.edu/physcomp/lessons/dc-motors/stepper-motors/">Controlling Stepper Motors</a></li>
	</ul>
</li>
</ul>
</li>
<li id="menu-item-3310" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3310"><a href="https://itp.nyu.edu/physcomp/videos/" class="sf-with-ul">Videos<span class="sf-sub-indicator"> ›</span></a>
<ul class="sub-menu" style="display: none; visibility: hidden;">
	<li id="menu-item-3302" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3302"><a href="https://itp.nyu.edu/physcomp/videos/videos-electricity/">Videos: Electricity</a></li>
	<li id="menu-item-3308" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3308"><a href="https://itp.nyu.edu/physcomp/videos/videos-tools/">Videos: Tools</a></li>
	<li id="menu-item-3306" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3306"><a href="https://itp.nyu.edu/physcomp/videos/videos-schematic-diagrams/">Videos: Schematic Diagrams</a></li>
	<li id="menu-item-3305" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3305"><a href="https://itp.nyu.edu/physcomp/videos/videos-sensors/">Videos: Sensors</a></li>
	<li id="menu-item-3307" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3307"><a href="https://itp.nyu.edu/physcomp/videos/videos-digital-and-analog-input-and-output/">Videos: Digital and Analog Input and Output</a></li>
	<li id="menu-item-3309" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3309"><a href="https://itp.nyu.edu/physcomp/videos/videos-serial-communication/">Videos: Serial Communication</a></li>
	<li id="menu-item-3304" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3304"><a href="https://itp.nyu.edu/physcomp/videos/videos-transistors-and-motors/">Videos: Relays, Transistors, and Motors</a></li>
	<li id="menu-item-3303" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3303"><a href="https://itp.nyu.edu/physcomp/videos/videos-prototyping-methods-and-tips/">Videos: Prototyping Methods and Tips</a></li>
</ul>
</li>
<li id="menu-item-3316" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-ancestor current_page_ancestor menu-item-has-children menu-item-3316"><a href="https://itp.nyu.edu/physcomp/labs/" class="sf-with-ul">Labs<span class="sf-sub-indicator"> ›</span></a>
<ul class="sub-menu" style="display: none; visibility: hidden;">
	<li id="menu-item-3313" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3313"><a href="https://itp.nyu.edu/physcomp/labs/labs-electronics/" class="sf-with-ul">Labs: Electronics<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-3320" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3320"><a href="https://itp.nyu.edu/physcomp/labs/labs-electronics/components/">Lab: Components</a></li>
		<li id="menu-item-3322" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3322"><a href="https://itp.nyu.edu/physcomp/labs/labs-electronics/breadboard/">Lab:  Setting Up A Breadboard</a></li>
		<li id="menu-item-3321" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3321"><a href="https://itp.nyu.edu/physcomp/labs/labs-electronics/switches/">Lab: Switches</a></li>
		<li id="menu-item-3323" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3323"><a href="https://itp.nyu.edu/physcomp/labs/labs-electronics/soldering/">Lab: Soldering</a></li>
		<li id="menu-item-3324" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3324"><a href="https://itp.nyu.edu/physcomp/labs/labs-electronics/electronics/">Lab: Electronics</a></li>
	</ul>
</li>
	<li id="menu-item-3314" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3314"><a href="https://itp.nyu.edu/physcomp/labs/labs-arduino-digital-and-analog/" class="sf-with-ul">Labs: Arduino Digital and Analog<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-3325" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3325"><a href="https://itp.nyu.edu/physcomp/labs/labs-arduino-digital-and-analog/digital-input-and-output-with-an-arduino/">Lab:  Digital Input and Output with an Arduino</a></li>
		<li id="menu-item-3326" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3326"><a href="https://itp.nyu.edu/physcomp/labs/labs-arduino-digital-and-analog/analog-in-with-an-arduino/">Lab: Analog In with an Arduino</a></li>
		<li id="menu-item-3327" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3327"><a href="https://itp.nyu.edu/physcomp/labs/labs-arduino-digital-and-analog/servo-motor-control-with-an-arduino/">Lab:  Servo Motor Control with an Arduino</a></li>
		<li id="menu-item-3328" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3328"><a href="https://itp.nyu.edu/physcomp/labs/labs-arduino-digital-and-analog/tone-output-using-an-arduino/">Lab:  Tone Output Using An Arduino</a></li>
		<li id="menu-item-3735" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3735"><a href="https://itp.nyu.edu/physcomp/labs/labs-arduino-digital-and-analog/lab-sensor-change-detection/">Lab: Sensor Change Detection</a></li>
	</ul>
</li>
	<li id="menu-item-3311" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-ancestor current-menu-parent current-page-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-3311"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/" class="sf-with-ul">Labs: Serial Communication<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-3892" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3892"><a href="https://itp.nyu.edu/physcomp/lab-intro-to-serial-communications/">Lab: Intro to Asynchronous Serial Communications</a></li>
		<li id="menu-item-3806" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3806"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-input-to-the-p5-js-ide/">Lab: Serial Input to P5.js</a></li>
		<li id="menu-item-3893" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-3807 current_page_item menu-item-3893"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/">Lab: Serial output from P5.js</a></li>
		<li id="menu-item-3894" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3894"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/two-way-duplex-serial-communication-using-p5js/">Lab: Two-Way (Duplex) Serial Communication Using An Arduino and P5.js</a></li>
		<li id="menu-item-3319" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3319"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-communication-with-node-js/">Lab: Serial Communication with Node.js</a></li>
		<li id="menu-item-3604" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3604"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-control-of-an-arduino/">Lab: Serial Input to an Arduino from Node.js</a></li>
		<li id="menu-item-3329" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3329"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/serial-output-from-an-arduino/">Lab:  Serial Output from an Arduino to Processing</a></li>
		<li id="menu-item-3330" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3330"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/two-way-duplex-serial-communication-using-an-arduino/">Lab:  Two-way (Duplex) Serial Communication using an Arduino and Processing</a></li>
		<li id="menu-item-3331" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3331"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-midi-output-using-an-arduino/">Lab: MIDI Output using an Arduino</a></li>
		<li id="menu-item-3332" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3332"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-arduino-to-daw/">Lab: Arduino to DAW</a></li>
		<li id="menu-item-3318" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3318"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-spi-communication-aith-a-digital-potentiometer/">Lab: SPI Communication With A Digital Potentiometer</a></li>
		<li id="menu-item-3317" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3317"><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/i2c-communication-with-an-infrared-temperature-sensor/">Lab: I2C Communication With An Infrared Temperature Sensor</a></li>
	</ul>
</li>
	<li id="menu-item-3315" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3315"><a href="https://itp.nyu.edu/physcomp/labs/motors-and-transistors/" class="sf-with-ul">Labs: Motors and Transistors<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-3333" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3333"><a href="https://itp.nyu.edu/physcomp/labs/motors-and-transistors/using-a-transistor-to-control-a-high-current-load/">Lab:  Using a Transistor to Control a High Current Load</a></li>
		<li id="menu-item-3334" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3334"><a href="https://itp.nyu.edu/physcomp/labs/motors-and-transistors/using-a-transistor-to-control-high-current-loads-with-an-arduino/">Lab:  Using a Transistor to Control High Current Loads with an Arduino</a></li>
		<li id="menu-item-3335" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3335"><a href="https://itp.nyu.edu/physcomp/labs/motors-and-transistors/dc-motor-control-using-an-h-bridge/">Lab: DC Motor Control Using an H-Bridge</a></li>
		<li id="menu-item-3336" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3336"><a href="https://itp.nyu.edu/physcomp/labs/motors-and-transistors/lab-controlling-a-stepper-motor-with-an-h-bridge/">Lab: Controlling a Stepper Motor With an H-Bridge</a></li>
	</ul>
</li>
	<li id="menu-item-3312" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3312"><a href="https://itp.nyu.edu/physcomp/labs/labs-mouse-control/" class="sf-with-ul">Labs: Mouse Control<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-4224" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4224"><a href="https://itp.nyu.edu/physcomp/labs/labs-mouse-control/lab-mouse-control/">Lab: Mouse Control</a></li>
		<li id="menu-item-3338" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3338"><a href="https://itp.nyu.edu/physcomp/labs/labs-mouse-control/lab-mouse-control-with-joystick/">Lab: Mouse Control With Joystick</a></li>
		<li id="menu-item-3339" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3339"><a href="https://itp.nyu.edu/physcomp/labs/labs-mouse-control/lab-mouse-control-with-pushbuttons/">Lab: Mouse Control With Pushbuttons</a></li>
	</ul>
</li>
</ul>
</li>
<li id="menu-item-3214" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3214"><a href="https://itp.nyu.edu/physcomp/itp/" class="sf-with-ul">Pcomp @ ITP<span class="sf-sub-indicator"> ›</span></a>
<ul class="sub-menu" style="display: none; visibility: hidden;">
	<li id="menu-item-3215" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3215"><a href="https://itp.nyu.edu/physcomp/itp/syllabus/">Syllabus</a></li>
	<li id="menu-item-3216" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3216"><a href="https://itp.nyu.edu/physcomp/itp/phys-comp-list/">Phys-comp List</a></li>
	<li id="menu-item-3291" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3291"><a href="https://itp.nyu.edu/physcomp/itp/sections/" class="sf-with-ul">Sections<span class="sf-sub-indicator"> ›</span></a>
	<ul class="sub-menu" style="display: none; visibility: hidden;">
		<li id="menu-item-4181" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4181"><a href="https://itp.nyu.edu/physcomp/itp/sections/jeff-feddersen-fall-2016/">Jeff Feddersen Fall 2016</a></li>
		<li id="menu-item-4184" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4184"><a href="https://itp.nyu.edu/physcomp/itp/sections/tom-igoe-fall-2016/">Tom Igoe Fall 2016</a></li>
		<li id="menu-item-4183" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4183"><a href="https://itp.nyu.edu/physcomp/itp/sections/benedetta-piantella-fall-2016/">Benedetta Piantella Fall 2016</a></li>
		<li id="menu-item-4182" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4182"><a href="https://itp.nyu.edu/physcomp/itp/sections/danny-rozin-fall-2016/">Danny Rozin Fall 2016</a></li>
		<li id="menu-item-3295" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3295"><a href="https://itp.nyu.edu/physcomp/itp/sections/previous-years-classes/">Previous Years’ Classes</a></li>
	</ul>
</li>
	<li id="menu-item-3294" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3294"><a href="https://itp.nyu.edu/physcomp/itp/checkout-components-at-itp/">Components at the ER</a></li>
</ul>
</li>
<li id="menu-item-3298" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3298"><a href="https://itp.nyu.edu/physcomp/resources/" class="sf-with-ul">Resources<span class="sf-sub-indicator"> ›</span></a>
<ul class="sub-menu" style="display: none; visibility: hidden;">
	<li id="menu-item-3232" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3232"><a href="https://itp.nyu.edu/physcomp/resources/parts-needed-for-physical-computing/">Parts Needed for Physical Computing</a></li>
	<li id="menu-item-4104" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4104"><a href="https://itp.nyu.edu/physcomp/resources/picking-a-microcontroller/">Picking a Microcontroller</a></li>
	<li id="menu-item-4130" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4130"><a href="https://itp.nyu.edu/physcomp/lessons/microcontrollers/microcontroller-pin-functions/">Microcontroller Pin Functions</a></li>
	<li id="menu-item-3230" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3230"><a href="https://itp.nyu.edu/physcomp/resources/books/">Books</a></li>
	<li id="menu-item-3231" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3231"><a href="https://itp.nyu.edu/physcomp/resources/github-repository/">GitHub Repository</a></li>
	<li id="menu-item-3300" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3300"><a href="https://itp.nyu.edu/physcomp/resources/additional-useful-parts-and-tools/">Additional Useful Parts and Tools</a></li>
	<li id="menu-item-4199" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4199"><a href="https://itp.nyu.edu/physcomp/resources/construction-templates/">Construction Templates</a></li>
	<li id="menu-item-3301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3301"><a href="https://itp.nyu.edu/physcomp/resources/suppliers/">Suppliers</a></li>
	<li id="menu-item-3299" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3299"><a href="https://itp.nyu.edu/physcomp/resources/other-useful-itp-sites/">Other Useful Sites</a></li>
	<li id="menu-item-3297" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3297"><a href="https://itp.nyu.edu/physcomp/resources/littlebits-resources/">LittleBits Resources</a></li>
</ul>
</li>
</ul></div>                       
                    <div class="clearfix"></div>
                </div>
                <!--End MenuBar-->
            </div>
            <div class="clear"></div>
            <!--End Header Grid-->
<!--Start Content Grid-->
<div class="grid_24 content">
    <div class="grid_16 alpha">
        <div class="content-wrap">
            <div class="content-info">
                <div id="crumbs"><a href="https://itp.nyu.edu/physcomp">Home</a> » <a href="https://itp.nyu.edu/physcomp/labs/">Labs</a> » <a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/">Labs: Serial Communication</a> » <span class="current">Lab: Serial output from P5.js</span></div>
            </div>
            <div class="sl">
                                                                    <h1>
                                Lab: Serial output from P5.js                            </h1>
                                            <div class="modified-info">
				Originally written on October 5, 2015 by Tom Igoe <br>
				Last modified on October 4, 2016 by Tom Igoe			</div>
                        <h2><span id="Overview">Overview</span></h2><div id="toc_container" class="toc_wrap_right no_bullets contracted" style="width: auto; display: table;"><p class="toc_title">Contents <span class="toc_toggle">[<a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#">show</a>]</span></p><ul class="toc_list" style="display: none;"><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Overview"><span class="toc_number toc_depth_1">1</span> Overview</a></li><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Things_Youll_Need"><span class="toc_number toc_depth_1">2</span> Things You’ll Need</a></li><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Prepare_the_breadboard"><span class="toc_number toc_depth_1">3</span> Prepare the breadboard</a><ul><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Add_an_LED"><span class="toc_number toc_depth_2">3.1</span> Add an LED</a></li></ul></li><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Program_theMicrocontroller"><span class="toc_number toc_depth_1">4</span> Program the&nbsp;Microcontroller</a></li><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#The_P5js_serialport_library"><span class="toc_number toc_depth_1">5</span> The P5.js serialport library</a><ul><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Install_the_P5serialcontrol_App"><span class="toc_number toc_depth_2">5.1</span> Install the P5.serialcontrol App</a><ul><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Running_P5serialserver_in_commandline"><span class="toc_number toc_depth_3">5.1.1</span> Running P5.serialserver in commandline</a></li></ul></li></ul></li><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#The_P5js_Sketch"><span class="toc_number toc_depth_1">6</span> The P5.js Sketch</a><ul><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#ProgramP5js_For_Serial_Communication"><span class="toc_number toc_depth_2">6.1</span> Program&nbsp;P5.js For Serial Communication</a></li></ul></li><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Sending_ASCII-Encoded_Serial_Data"><span class="toc_number toc_depth_1">7</span> Sending ASCII-Encoded Serial Data</a><ul><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Program_the_Microcontroller_Again"><span class="toc_number toc_depth_2">7.1</span> Program the &nbsp;Microcontroller Again</a></li><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Program_P5js_To_Control_the_LED"><span class="toc_number toc_depth_2">7.2</span> Program P5.js To Control the LED</a></li><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Processing_ASCII-Encoded_Strings_With_Arduino"><span class="toc_number toc_depth_2">7.3</span> Processing ASCII-Encoded Strings With Arduino</a></li><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Program_P5js_To_Send_a_String_With_a_Newline_Character"><span class="toc_number toc_depth_2">7.4</span> Program P5.js To Send a String With a Newline Character</a></li></ul></li><li><a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/#Conclusion"><span class="toc_number toc_depth_1">8</span> Conclusion</a></li></ul></div>

<p>When you use the <a href="http://www.p5js.org/">P5.js</a>‘ p5.serialport library, it communicates with a webSocket server in the P5.js IDE to give you access to serial devices attached to your computer. This lab shows you how to use P5 to control a microcontroller using asynchronous serial communication.</p>
<p>To get the most out of this tutorial, you should know <a title="Microcontrollers: The Basics" href="https://itp.nyu.edu/physcomp/lessons/microcontrollers/microcontrollers-the-basics/" target="_blank">what a microcontroller is </a>and <a title="Programming Terms and Programming Environments" href="https://itp.nyu.edu/physcomp/lessons/programming/programming-terms-and-programming-environments/" target="_blank">how to program them</a>. You should also understand <a title="Serial Communication: The Basics" href="https://itp.nyu.edu/physcomp/lessons/serial-communication/serial-communication-the-basics/" target="_blank">asynchronous serial communication</a> between microcontrollers and personal computers. You should also understand the basics of <a href="http://www.p5js.org/">P5.js</a>, and should have tried the <a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-input-to-the-p5-js-ide/">Serial Input to P5.js</a>&nbsp;lab.</p>
<h2><span id="Things_Youll_Need">Things You’ll Need</span></h2>
<p>For this lab, you’ll need the hardware below, and you’ll need to download the <a href="http://p5js.org/download/">P5.js complete library</a>. You’ll also need to install <a href="https://nodejs.org/en/">node.js</a> and the <a href="https://github.com/vanevery/p5.serialport">P5.serialserver </a>(instructions <a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-input-to-the-p5-js-ide/">here</a>). You can use the P5.js web editor or your favorite text editor for this (the <a href="http://p5js.org/download/">Atom text editor</a> works well).</p>
<div class="table-responsive"><table style="width:80%; " class="easy-table easy-table-minimal ">
<thead>
<tr><th style="text-align:center"><a class="urllink" rel="nofollow" href="https://itp.nyu.edu/physicalcomputing/wp-content/uploads/arduino1.jpg"><img title="Arduino" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/arduino1-150x150.jpg" alt="Arduino" width="150px"></a></th>
<th><a class="urllink" rel="nofollow" href="https://itp.nyu.edu/physicalcomputing/wp-content/uploads/leds1.jpg"><img title="Light Emitting Diodes" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/leds1-150x150.jpg" alt="Light Emitting Diodes" width="150px"></a></th>
<th><a class="urllink" rel="nofollow" href="https://itp.nyu.edu/physicalcomputing/wp-content/uploads/resistors1.jpg"><img title="Resistors" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/resistors1-150x150.jpg" alt="Resistors" width="150px"></a></th>
</tr>
</thead>
<tbody>
<tr><td style="text-align:center"><em>Arduino microcontroller</em></td>
<td><em>LED</em></td>
<td><em>560-ohm (anything from 220 to 1K) resistor</em></td>
</tr>
</tbody></table></div>
<h2><span id="Prepare_the_breadboard"><span id="Prepare_the_breadboard">Prepare the breadboard</span></span></h2>
<p>Conect power and ground on the breadboard to power and ground from the microcontroller. On the Arduino module, use the 5V and any of the ground connections:</p>
<div class="table-responsive"><table style="width:80%; " class="easy-table easy-table-minimal ">
<thead>
<tr><th style="text-align:center"><a href="https://itp.nyu.edu/physicalcomputing/wp-content/uploads/LabTemplate_bb.png"><img class="alignnone size-medium wp-image-2159" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/LabTemplate_bb-300x195.png" alt="LabTemplate_bb" width="300" height="195" srcset="https://itp.nyu.edu/physcomp/wp-content/uploads/LabTemplate_bb-300x195.png 300w&lt;/th&gt;
&lt;th &gt;https://itp.nyu.edu/physcomp/wp-content/uploads/LabTemplate_bb.png 559w" sizes="(max-width: 300px) 100vw&lt;/th&gt;
&lt;th &gt;300px"></a></th>
</tr>
</thead>
<tbody>
<tr><td style="text-align:center">Made with <a href="http://fritzing.org/home/">Fritzing</a></td>
</tr>
</tbody></table></div>
<div class="table-responsive">
<h3><span id="Add_an_LED"><span id="Add_a_potentiometer_and_LED">Add an LED</span></span></h3>
<p>Connect the LED and resistor to digital&nbsp;I/O&nbsp;pin 5 of the module:</p>
<div class="table-responsive"><table style="width:80%; " class="easy-table easy-table-minimal ">
<caption>Potentiometer and LED circuit</caption>
<thead>
<tr><th style="text-align:center"><a href="https://itp.nyu.edu/physcomp/wp-content/uploads/potentiometer_led_pwm_schem.png"><img class="alignnone wp-image-3811 size-medium" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/potentiometer_led_pwm_schem-224x300.png" alt="" width="224" height="300" srcset="https://itp.nyu.edu/physcomp/wp-content/uploads/potentiometer_led_pwm_schem-224x300.png 224w&lt;/th&gt;
&lt;th &gt;https://itp.nyu.edu/physcomp/wp-content/uploads/potentiometer_led_pwm_schem.png 422w" sizes="(max-width: 224px) 100vw&lt;/th&gt;
&lt;th &gt;224px"></a></th>
<th><a href="https://itp.nyu.edu/physcomp/wp-content/uploads/potentiometer_led_pwm_bb.png"><img class="alignnone wp-image-3810 size-medium" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/potentiometer_led_pwm_bb-300x189.png" alt="" width="300" height="189" srcset="https://itp.nyu.edu/physcomp/wp-content/uploads/potentiometer_led_pwm_bb-300x189.png 300w&lt;/th&gt;
&lt;th &gt;https://itp.nyu.edu/physcomp/wp-content/uploads/potentiometer_led_pwm_bb.png 372w" sizes="(max-width: 300px) 100vw&lt;/th&gt;
&lt;th &gt;300px"></a></th>
</tr>
</thead>
<tbody>
<tr><td style="text-align:center"><em>Arduino with LED&nbsp;circuit</em></td>
<td><em>Same circuit on a breadboard</em></td>
</tr>
</tbody></table></div>
<h2><span id="Program_theMicrocontroller"><span id="Program_the_Module">Program the&nbsp;Microcontroller</span></span></h2>
<p>Program your Arduino to read the analog input as follows:</p>
<div><div id="highlighter_209675" class="syntaxhighlighter nogutter  cpp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">setup() {</code></div><div class="line number2 index1 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp plain">Serial.begin(9600);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// initialize serial communications</code></div><div class="line number3 index2 alt2"><code class="cpp plain">}</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">loop() {</code></div><div class="line number6 index5 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(Serial.available() &gt; 0) { </code><code class="cpp comments">// if there's serial data available</code></div><div class="line number7 index6 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">inByte = Serial.read();&nbsp;&nbsp; </code><code class="cpp comments">// read it</code></div><div class="line number8 index7 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp plain">Serial.write(inByte);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// send it back out as raw binary data</code></div><div class="line number9 index8 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp plain">analogWrite(5, inByte);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// use it to set the LED brightness</code></div><div class="line number10 index9 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp plain">}</code></div><div class="line number11 index10 alt2"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div>
<h2><span id="The_P5js_serialport_library">The P5.js serialport library</span></h2>
<p>To communicate with your microcontroller serially, you’re going to use the P5.js serialport library and the P5.serialserver (command line version) or p5.serialcontrol (GUI version). The P5.js serialport library can’t access your serial ports directly when a sketch is running in a browser&nbsp;because the browser doesn’t have direct access to the serial port. But it can communicate with a server program on your computer that can exchange data with the serialport.P5.serialserver (or p5.serialcontrol) is &nbsp;the server that connects your sketch, running in a browser, with the serial ports on your computer as shown below:</p>
<p><img class="alignnone wp-image-4354 size-full" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/socket-serial-connection-1.png" alt="" width="921" height="270" srcset="https://itp.nyu.edu/physcomp/wp-content/uploads/socket-serial-connection-1.png 921w, https://itp.nyu.edu/physcomp/wp-content/uploads/socket-serial-connection-1-300x88.png 300w, https://itp.nyu.edu/physcomp/wp-content/uploads/socket-serial-connection-1-768x225.png 768w" sizes="(max-width: 921px) 100vw, 921px"></p>
<p>Once you gain an understanding of serial communication, you can use any program that can connect with your computer’s serial ports to communicate with a microcontroller. Processing, Max/MSP, and OpenFrameworks are three other popular multimedia programming environments that can communicate via the serial ports.</p>
<h3><span id="Install_the_P5serialcontrol_App">Install the P5.serialcontrol App</span></h3>
<p>Download&nbsp;the latest version of the <a href="https://github.com/vanevery/p5.serialcontrol/releases">P5.serialcontrol</a> application and save it in your Applications folder. When you run it, it will check serial ports on your machine. Click “list ports” to refresh the list, and you should see the serial port of your Arduino board show up. You can now move onto <a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-input-to-the-p5-js-ide/#Program_P5js_to_list_the_available_serial_ports">using the P5.js editor</a> making sure that the p5.serialport.js file is inside your project folder. You can skip the next section unless you want to run p5.serialserver from the command line instead from the p5.serialcontol app.</p>
<div class="sidebar-note-content">
<h4><span id="Running_P5serialserver_in_commandline">Running P5.serialserver in commandline</span></h4>
<p>The P5.serialcontrol app runs P5.serialserver with a GUI wrapped around it. If you don’t want to use the p5.serialcontrol GUI, you can install p5.serialserver on the command line. &nbsp;P5.serialserver uses the <a href="http://www.nodejs.org/">node.js programming environment</a> to create the serial-to-webSocket server that allows you to connect your sketch to the serial port.&nbsp;If you’re interested in learning to write your own serial-to-webSocket server, you can see the <a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-communication-with-node-js/">Serial Communication with Node.js lab</a>. In that lab, you’ll write your own serial-to-webSocket server.</p>
<p>You will need to install node.js on your computer to use p5.serialserver on the command line. Download the version for your operating system from nodejs.org and install it as you would any other application. Then open a command line interface (Terminal on OSX, Windows Powershell on Windows) and install P5.serialserver by typing the following:</p>
<pre>sudo npm install -g p5.serialserver</pre>
<p>The installer will ask for your password, because it’s installing serialserver globally, for all users. Windows users will not need sudo at the beginning of the command. Once the server&nbsp;is successfully installed, you can run it by typing</p>
<pre>p5serial</pre>
<p>You’ll see the following message:</p>
<pre class="p1"><span class="s1">p5.serialserver is running</span></pre>
<p>You won’t see much else unless there’s a problem, but the program is running. To quit it, type control-C.</p>
</div>
<p>You’ll need to know&nbsp;the name of your serial port to get started. If you’re not sure how to get this, see the&nbsp;<a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-input-to-the-p5-js-ide/">Serial Input to P5.js</a>&nbsp;lab for how to get a list of ports.</p>
<h2><span id="The_P5js_Sketch">The P5.js Sketch</span></h2>
<p>The sketch you’re going to write will control the microcontroller’s LED from P5.js. Dragging the mouse up and down the canvas will dim or brighten the LED, and typing 0 through 9 will set the LED’s brightness in increments from off (0) through almost full brightness (9). The sketch will also receive serial input from the microcontroller just as in the&nbsp;<a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-input-to-the-p5-js-ide/">Serial Input to P5.js</a>&nbsp;lab, so that you can see that the microcontroller is getting the same values you’re sending.</p>
<h3><span id="ProgramP5js_For_Serial_Communication">Program&nbsp;P5.js For Serial Communication</span></h3>
</div>
<p>As you saw in the&nbsp;<a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-input-to-the-p5-js-ide/">Serial Input to P5.js</a>&nbsp;lab, &nbsp;you’ll need to <a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-input-to-the-p5-js-ide/#Program_P5js_to_list_the_available_serial_ports">copy the p5.seriaport.js lbrary into your sketch’s libraries folder</a>. the setup of your sketch will initialize the P5.serialport library and define your callback functions for serial events. Program the global variables and setup() function as follows:</p>
<div><div id="highlighter_819196" class="syntaxhighlighter nogutter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">serial;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="jscript comments">// variable to hold an instance of the serialport library</code></div><div class="line number2 index1 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">portName = </code><code class="jscript string">'/dev/cu.usbmodem1421'</code><code class="jscript plain">; </code><code class="jscript comments">// fill in your serial port name here</code></div><div class="line number3 index2 alt2"><code class="jscript keyword">var</code> <code class="jscript plain">inData;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="jscript comments">// for incoming serial data</code></div><div class="line number4 index3 alt1"><code class="jscript keyword">var</code> <code class="jscript plain">outByte = 0;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="jscript comments">// for outgoing data</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="jscript keyword">function</code> <code class="jscript plain">setup() {</code></div><div class="line number7 index6 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">createCanvas(400, 300);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="jscript comments">// make the canvas</code></div><div class="line number8 index7 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">serial = </code><code class="jscript keyword">new</code> <code class="jscript plain">p5.SerialPort();&nbsp;&nbsp;&nbsp; </code><code class="jscript comments">// make a new instance of the serialport library</code></div><div class="line number9 index8 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">serial.on(</code><code class="jscript string">'data'</code><code class="jscript plain">, serialEvent);&nbsp; </code><code class="jscript comments">// callback for when new data arrives</code></div><div class="line number10 index9 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">serial.on(</code><code class="jscript string">'error'</code><code class="jscript plain">, serialError); </code><code class="jscript comments">// callback for errors</code></div><div class="line number11 index10 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">serial.open(portName);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="jscript comments">// open a serial port</code></div><div class="line number12 index11 alt1"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>You’re only using the ‘data’ and ‘error’ callbacks this time, but you can add the other serial callbacks if you want them.</p>
<p>Program the&nbsp;serialEvent() function and serialError() function&nbsp;similarly&nbsp;to those in the <a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-input-to-the-p5-js-ide/">previous lab</a>. They read incoming data (serialEvent()) and report any errors (serialError()), as follows:</p>
<div><div id="highlighter_786977" class="syntaxhighlighter nogutter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">function</code> <code class="jscript plain">serialEvent() {</code></div><div class="line number2 index1 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript comments">// read a byte from the serial port:</code></div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript keyword">var</code> <code class="jscript plain">inByte = serial.read();</code></div><div class="line number4 index3 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript comments">// store it in a global variable:</code></div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">inData = inByte;</code></div><div class="line number6 index5 alt1"><code class="jscript plain">}</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="jscript keyword">function</code> <code class="jscript plain">serialError(err) {</code></div><div class="line number9 index8 alt2"><code class="jscript spaces">&nbsp;&nbsp;</code><code class="jscript plain">println(</code><code class="jscript string">'Something went wrong with the serial port. '</code> <code class="jscript plain">+ err);</code></div><div class="line number10 index9 alt1"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Program the&nbsp;&nbsp;draw() function to display&nbsp;the value of any incoming serial&nbsp;bytes. Here it is:</p>
<div class="table-responsive">
<div><div id="highlighter_678460" class="syntaxhighlighter nogutter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">function</code> <code class="jscript plain">draw() {</code></div><div class="line number2 index1 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript comments">// black background, white text:</code></div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">background(0);</code></div><div class="line number4 index3 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">fill(255);</code></div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript comments">// display the incoming serial data as a string:</code></div><div class="line number6 index5 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">text(</code><code class="jscript string">"incoming value: "</code> <code class="jscript plain">+ inData, 30, 30);</code></div><div class="line number7 index6 alt2"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>To read the mouse and keyboard, you’ll need to write functions to respond to the&nbsp;‘mouseDragged’ and ‘keyPressed’ events. ‘MouseDragged’ will happen whenever you click and drag the mouse on the canvas. When that happens, read the <tt>mouseY</tt>, and map&nbsp;its position on the canvas to a value from 0 to 255. Convert the result to a number using the <tt>int()</tt> function. Then send it out the serial port using the <tt>serial.write()</tt> function:</p>
<div><div id="highlighter_862603" class="syntaxhighlighter nogutter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">function</code> <code class="jscript plain">mouseDragged() {</code></div><div class="line number2 index1 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript comments">// map the mouseY to a range from 0 to 255:</code></div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">outByte = int(map(mouseY, 0, height, 0, 255));</code></div><div class="line number4 index3 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript comments">// send it out the serial port:</code></div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">serial.write(outByte);</code></div><div class="line number6 index5 alt1"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>The <tt>serial.write()</tt> function is versatile. If you give it a variable or literal that’s a numeric data type, it will send it as its raw binary value. In the code above, note how you’re converting the output of the <tt>map()</tt> function to a number&nbsp;using the <tt>int()</tt> function. &nbsp;If you give it a string, however, it will send out that ASCII string. So be aware of the difference, and make sure you know whether your serial receiving device wants raw binary or ASCII-encoded data.</p>
</div>
<p>Program the&nbsp;<tt>keyPressed()</tt> function similarly to the <tt>mouseDragged()</tt> function. You want it to read the key strokes, convert them to raw bytes, and send them out the serial port. But you only want to send them if they key hit was 0 through 9. The P5.js variable <tt>key</tt> returns a&nbsp;numeric value, so you can do math on it and convert it like so:</p>
<div class="table-responsive">
<div><div id="highlighter_135648" class="syntaxhighlighter nogutter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">function</code> <code class="jscript plain">keyPressed() {</code></div><div class="line number2 index1 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript keyword">if</code> <code class="jscript plain">(key &gt;=0 &amp;&amp; key &lt;=9) { </code><code class="jscript comments">// if the user presses 0 through 9</code></div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">outByte = byte(key * 25); </code><code class="jscript comments">// map the key to a range from 0 to 225</code></div><div class="line number4 index3 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">}</code></div><div class="line number5 index4 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">serial.write(outByte); </code><code class="jscript comments">// send it out the serial port</code></div><div class="line number6 index5 alt1"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>That’s all you want your sketch to do, so try running it now. You should see that the initial incoming serial value is undefined, but when you drag the mouse up and down, or type 0 through 9, it will update when the Arduino program returns what it received. The LED will also change with these actions.</p>
<h2><span id="Sending_ASCII-Encoded_Serial_Data">Sending ASCII-Encoded Serial Data</span></h2>
<p>If you want to send ASCII-encoded serial data from P5.js, all you have to do is to <tt>serial.write()</tt> your string. Sending strings is the P5.serialport’s default behavior. On the Arduino side, you can read single characters one byte at a time simply as well. However, if you want to convert multi-byte number strings to numeric values, you’ll need a new function to read ASCII encoded numeric strings called <tt>parseInt()</tt>.</p>
<h3><span id="Program_the_Microcontroller_Again">Program the &nbsp;Microcontroller Again</span></h3>
<p>To start off with, load a sketch from the Arduino examples called PhysicalPixel. You can find it in the File Menu -&gt; Examples -&gt; Communication -&gt; PhysicalPixel. Here’s&nbsp;what it looks like. Change the LED pin number to pin 5 as follows:</p>
<div><div id="highlighter_42243" class="syntaxhighlighter nogutter  cpp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp keyword bold">const</code> <code class="cpp color1 bold">int</code> <code class="cpp plain">ledPin = 5; </code><code class="cpp comments">// the pin that the LED is attached to</code></div><div class="line number2 index1 alt1"><code class="cpp color1 bold">int</code> <code class="cpp plain">incomingByte;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// a variable to read incoming serial data into</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">setup() {</code></div><div class="line number5 index4 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp plain">Serial.begin(9600);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// initialize serial communication</code></div><div class="line number6 index5 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp plain">pinMode(ledPin, OUTPUT);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// initialize the LED pin as an output</code></div><div class="line number7 index6 alt2"><code class="cpp plain">}</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">loop() {</code></div><div class="line number10 index9 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(Serial.available() &gt; 0) {&nbsp;&nbsp; </code><code class="cpp comments">// see if there's incoming serial data</code></div><div class="line number11 index10 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">incomingByte = Serial.read(); </code><code class="cpp comments">// read it</code></div><div class="line number12 index11 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(incomingByte == </code><code class="cpp string">'H'</code><code class="cpp plain">) {&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// if it's a capital H (ASCII 72),</code></div><div class="line number13 index12 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">digitalWrite(ledPin, HIGH); </code><code class="cpp comments">// turn on the LED</code></div><div class="line number14 index13 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number15 index14 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(incomingByte == </code><code class="cpp string">'L'</code><code class="cpp plain">) {&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// if it's an L (ASCII 76)</code></div><div class="line number16 index15 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">digitalWrite(ledPin, LOW);&nbsp; </code><code class="cpp comments">// turn off the LED</code></div><div class="line number17 index16 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number18 index17 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp plain">}</code></div><div class="line number19 index18 alt2"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>When you run this, open the serial monitor and type H or L, and the LED will go on or off. &nbsp;Try typing h or l instead. The LED won’t change, because H and h have different ASCII values, as do L and l. But you can see from this that you don’t need to memorize the ASCII chart to check for character values in your code. Put the character you want to read in single quotes, and the Arduino compiler will automatically convert the character to its ASCII value for you. It only works for single characters, though.</p>
</div>
<h3><span id="Program_P5js_To_Control_the_LED">Program P5.js To Control the LED</span></h3>
<p>To get P5.js to control this Arduino program serially, you only need to change the <tt>keyPressed()</tt> function to read H or L instead of 0 through 9. Here’s your new <tt>mousePressed()</tt> function:</p>
<div><div id="highlighter_703640" class="syntaxhighlighter nogutter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript keyword">function</code> <code class="jscript plain">keyPressed() {</code></div><div class="line number2 index1 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript keyword">if</code> <code class="jscript plain">(key ===</code><code class="jscript string">'H'</code> <code class="jscript plain">|| key ===</code><code class="jscript string">'L'</code><code class="jscript plain">) { </code><code class="jscript comments">// if the user presses H or L</code></div><div class="line number3 index2 alt2"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">serial.write(key);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="jscript comments">// send it out the serial port</code></div><div class="line number4 index3 alt1"><code class="jscript spaces">&nbsp;</code><code class="jscript plain">}</code></div><div class="line number5 index4 alt2"><code class="jscript plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Because the key is already a single character, P5.js sends it out as is, and Arduino reads it as a single byte, looking for the ASCII value of H or L. Notice how the values returned to P5.js are 72 and 76, the ASCII values for H and L. For single characters like this, exchanging data is simple.</p>
<p>If you tried to change the LED with the mouse, you didn’t see anything happen unless your output value was 72 or 76. Why is that?</p>
<h3><span id="Processing_ASCII-Encoded_Strings_With_Arduino">Processing ASCII-Encoded Strings With Arduino</span></h3>
<div class="table-responsive">
<p>It is also possible to read and interpret ASCII-encoded strings in Arduino. The <tt>String.parseInt()</tt> function reads an incoming string until it finds a non-numeric character, then converts the numeric string that it read into a long integer. This is a blocking function, meaning that <tt>String.parseInt()</tt> stops the program and does nothing until it sees a non-numeric character, or until a timeout passes. The timeout is normally one second (or 1000 milliseconds), but you can set it to a lower number of milliseconds using <tt>Serial.setTimeout()</tt>. Here’s a variation on&nbsp;the original Arduino sketch from above, using <tt>Serial.parseInt()</tt> this time:</p>
<div><div id="highlighter_598363" class="syntaxhighlighter nogutter  cpp"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">setup() {</code></div><div class="line number2 index1 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp plain">Serial.begin(9600);&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// initialize serial communications</code></div><div class="line number3 index2 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp plain">Serial.setTimeout(10); </code><code class="cpp comments">// set the timeout for parseInt</code></div><div class="line number4 index3 alt1"><code class="cpp plain">}</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">loop() {</code></div><div class="line number7 index6 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(Serial.available() &gt; 0) {&nbsp;&nbsp; </code><code class="cpp comments">// if there's serial data available</code></div><div class="line number8 index7 alt1"><code class="cpp spaces">&nbsp;</code><code class="cpp color1 bold">int</code> <code class="cpp plain">inByte = Serial.parseInt(); </code><code class="cpp comments">// read it</code></div><div class="line number9 index8 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">(inByte &gt; 0) {</code></div><div class="line number10 index9 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Serial.write(inByte);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// send it back out as raw binary data</code></div><div class="line number11 index10 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">analogWrite(5, inByte);&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// use it to set the LED brightness</code></div><div class="line number12 index11 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number13 index12 alt2"><code class="cpp spaces">&nbsp;</code><code class="cpp plain">}</code></div><div class="line number14 index13 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div>
<p>Upload this to your microcontroller, then open the Serial Monitor and send in some ASCII numeric strings. You’ll see the character that’s represented by the string’s value. For example, 65 will return A, 34 will return “, and so forth.</p>
<p>Notice that this version of the sketch has a conditional statement to check if the incoming byte is 0. This is because of a quirk of the <tt>parseInt()</tt> function. It returns 0 if the timeout is hit, or if the string is legitimately 0. This means you can’t really parse for a string like this: <tt>"0\n"</tt>.</p>
</div>
<h3><span id="Program_P5js_To_Send_a_String_With_a_Newline_Character">Program P5.js To Send a String With a Newline Character</span></h3>
<p>Now that your microcontroller is expecting a string, program P5.js to send one. This means changing the <tt>mouseDragged()</tt> function. You still need to convert it to an integer using the <tt>int()</tt> function (you could also use <tt>round()</tt>), but then you need to convert it back to a String and add a delimiter. A quick way to do this is by adding the delimiter in the <tt>serial.write()</tt> command like so:</p>
<div><div id="highlighter_90951" class="syntaxhighlighter nogutter  jscript"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="jscript spaces">&nbsp;&nbsp;</code><code class="jscript plain">serial.write(outByte + </code><code class="jscript string">'\n'</code><code class="jscript plain">);</code></div></div></td></tr></tbody></table></div></div>
<p>When the command encounters the two different elements, the number and the string (‘\n’), it will convert the number into a string in in order to concatenate the two. In addition, the newline on the end will is useful on the Arduino side. Since it’s a non-numeric character, the <tt>Serial.parseInt()</tt> function will see it and parse the string, not waiting for the timeout.</p>
<p>The full code for all the examples in this lab can be found in <a href="https://github.com/ITPNYU/physcomp/tree/master/labs2015/P5SendSerial">this gitHub repository</a>.</p>
<h2><span id="Conclusion">Conclusion</span></h2>
<p>When you’re sending data between two computers using asynchronous serial communication, you have to make sure that what the sender is sending is formatted the same as what the receiver is listening for. Think this out in advance before you code, then consider what functions you’ve got on both computers to convert data from strings to raw binary numbers and back. Test with fixed values at first, so you know you’re getting what you think you should. For example, sending an ASCII-encoded numeric string like this:</p>
<p><tt>1023\n</tt></p>
<p>Will always result in these six bytes:</p>
<p><tt>49 48 50 51 10</tt></p>
<p>Likewise, this text string:</p>
<p><tt>Hello\n</tt></p>
<p>will always be:</p>
<p><tt>72 101 108 108 111 10</tt></p>
<p>By sending a string you know both the ASCII and raw binary representations of, you can test your code easier, because what you’re sending won’t change. Once you know the sending and receiving works, then you can send variable strings.</p>
<p>The more you work with serial data, the more you’ll become familiar with the methods for handling it.</p>
<p>For more on serial flow control in P5.js, see the <a href="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/two-way-duplex-serial-communication-using-p5js/">Two-Way Duplex Serial Communication Using P5.js Lab</a>.</p>
                        <div class="clear"></div>
                                                                        <div class="clear"></div>
                        <!--Start Comment Section-->
                        <div class="comment_section">
                            <!--Start Comment list-->
                                                        <!--End Comment Form-->
                        </div>
                        <!--End comment Section-->
                                </div>
            <div class="folio-page-info">
                            </div>
        </div>
    </div>
    <div class="grid_8 omega">
    <div class="sidebar">
                    <form role="search" method="get" id="searchform" action="https://itp.nyu.edu/physcomp/">
    <div>
        <input type="text" onfocus="if (this.value == &#39;Search&#39;) {
                    this.value = &#39;&#39;;
                }" onblur="if (this.value == &#39;&#39;) {
                            this.value = &#39;Search&#39;;
                        }" value="Search" name="s" id="s">
        <input type="submit" id="searchsubmit" value="Search">
    </div>
</form>
<div class="clear"></div> 	
				<form action="https://itp.nyu.edu/physcomp/labs/labs-serial-communication/lab-serial-output-from-p5-js/" method="post" class="searchandfilter">
					<div>
						<ul><li><h4>Find posts by category</h4><ul>	<li class="cat-item cat-item-12"><label><input type="checkbox" name="ofcategory[]" value="12"> @ITP</label>
</li>
	<li class="cat-item cat-item-20"><label><input type="checkbox" name="ofcategory[]" value="20"> Analog</label>
</li>
	<li class="cat-item cat-item-11"><label><input type="checkbox" name="ofcategory[]" value="11"> Code</label>
</li>
	<li class="cat-item cat-item-21"><label><input type="checkbox" name="ofcategory[]" value="21"> Components</label>
</li>
	<li class="cat-item cat-item-25"><label><input type="checkbox" name="ofcategory[]" value="25"> Digital</label>
</li>
	<li class="cat-item cat-item-5"><label><input type="checkbox" name="ofcategory[]" value="5"> Electronics</label>
</li>
	<li class="cat-item cat-item-15"><label><input type="checkbox" name="ofcategory[]" value="15"> Lab</label>
</li>
	<li class="cat-item cat-item-8"><label><input type="checkbox" name="ofcategory[]" value="8"> Motors</label>
</li>
	<li class="cat-item cat-item-18"><label><input type="checkbox" name="ofcategory[]" value="18"> Mouse</label>
</li>
	<li class="cat-item cat-item-27"><label><input type="checkbox" name="ofcategory[]" value="27"> Multimeter</label>
</li>
	<li class="cat-item cat-item-16"><label><input type="checkbox" name="ofcategory[]" value="16"> Node.js</label>
</li>
	<li class="cat-item cat-item-31"><label><input type="checkbox" name="ofcategory[]" value="31"> P5.js</label>
</li>
	<li class="cat-item cat-item-30"><label><input type="checkbox" name="ofcategory[]" value="30"> Processing</label>
</li>
	<li class="cat-item cat-item-26"><label><input type="checkbox" name="ofcategory[]" value="26"> Programming</label>
</li>
	<li class="cat-item cat-item-29"><label><input type="checkbox" name="ofcategory[]" value="29"> PWM</label>
</li>
	<li class="cat-item cat-item-7"><label><input type="checkbox" name="ofcategory[]" value="7"> Sensors</label>
</li>
	<li class="cat-item cat-item-9"><label><input type="checkbox" name="ofcategory[]" value="9"> Serial Communication</label>
</li>
	<li class="cat-item cat-item-17"><label><input type="checkbox" name="ofcategory[]" value="17"> Sound</label>
</li>
	<li class="cat-item cat-item-19"><label><input type="checkbox" name="ofcategory[]" value="19"> Switches</label>
</li>
	<li class="cat-item cat-item-28"><label><input type="checkbox" name="ofcategory[]" value="28"> Transistor</label>
</li>
	<li class="cat-item cat-item-1"><label><input type="checkbox" name="ofcategory[]" value="1"> Uncategorized</label>
</li>
	<li class="cat-item cat-item-14"><label><input type="checkbox" name="ofcategory[]" value="14"> Video</label>
</li>
	<li class="cat-item cat-item-10"><label><input type="checkbox" name="ofcategory[]" value="10"> Wireless</label>
</li>
</ul><input type="hidden" name="ofcategory_operator" value="and"></li><li><input type="hidden" name="ofsubmitted" value="1">
							<input type="submit" value="Filter">
						</li></ul></div>
				</form>        
                    </div>
</div>
</div>
<div class="clear"></div>
<!--End Content Grid-->
</div>
<!--End Container Div-->
<!--Start Footer container-->
<div class="container_24 footer-container">
    <div class="grid_24 footer">
            </div>
    <div class="clear"></div>
</div>
<!--End footer container-->
<!--Start footer navigation-->
<div class="container_24 footer-navi">
    <div class="grid_24">
        <div class="grid_10 alpha">
            <div class="navigation">
                <ul class="footer_des">
                    <li><a href="https://itp.nyu.edu/physcomp">ITP Physical Computing -
                                                    </a></li>
                </ul>                
            </div>
        </div>
        <div class="grid_4">
            <div class="social-icons">
                                                                                                                                                                                            </div>
        </div>
        <div class="grid_10 omega">
            <div class="right-navi">               
                <p><a href="http://www.inkthemes.com/" rel="nofollow">Colorway Wordpress Theme</a> by InkThemes.com</p>
            </div> 
        </div>
    </div>
    <div class="clear"></div>
</div>
<!--End Footer navigation-->
<div class="footer_space"></div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54952418-1', 'auto');
  ga('send', 'pageview');

</script>			<script type="text/javascript">function showhide_toggle(a,b,d,f){var e=jQuery("#"+a+"-link-"+b),c=jQuery("a",e),g=jQuery("#"+a+"-content-"+b);a=jQuery("#"+a+"-toggle-"+b);e.toggleClass("sh-show sh-hide");g.toggleClass("sh-show sh-hide").toggle();"true"===c.attr("aria-expanded")?c.attr("aria-expanded","false"):c.attr("aria-expanded","true");a.text()===d?a.text(f):a.text(d)};</script>
	<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/shCore.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/shBrushCpp.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/shBrushJScript.js.download"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://itp.nyu.edu/physcomp/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "https://itp.nyu.edu/physcomp/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type="text/javascript">
/* <![CDATA[ */
var tocplus = {"visibility_show":"show","visibility_hide":"hide","visibility_hide_by_default":"1","width":"Auto"};
/* ]]> */
</script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/front.min.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/jquery.ba-cond.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/jquery.slitslider.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/slider-init.js.download"></script>
<script type="text/javascript" src="./Lab_ Serial output from P5.js – ITP Physical Computing_files/wp-embed.min.js.download"></script>
</body></html>